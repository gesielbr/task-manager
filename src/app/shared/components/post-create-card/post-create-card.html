<div
  class="post-create-card"
  [class.mode-edit]="mode() === 'edit'"
  role="region"
  [attr.aria-labelledby]="mode() === 'edit' ? 'edit-title' : 'create-title'"
>
  <div class="card-content">
    <h2 class="card-title" [id]="mode() === 'edit' ? 'edit-title' : 'create-title'">
      {{ mode() === 'create' ? "What's on your mind?" : 'Edit item' }}
    </h2>

    <form [formGroup]="postForm" (ngSubmit)="onSubmit()" novalidate>
      <div class="form-group">
        <app-input
          label="Title"
          placeholder="Hello world"
          [control]="postForm.controls.title"
        ></app-input>
      </div>

      <div class="form-group">
        <app-textarea
          label="Content"
          placeholder="Content here"
          size="sm"
          [control]="postForm.controls.content"
          (keyDown)="onContentKeydown($event)"
        ></app-textarea>
      </div>

      <div class="d-flex justify-content-end gap-3 mt-4 w-100">
        @if (mode() === 'edit') {
          <app-button
            type="button"
            label="Cancel"
            color="light"
            [outline]="true"
            [fullWidth]="false"
            (btnClick)="cancel.emit()"
            title="Cancel editing"
          >
          </app-button>
        }

        <app-button
          type="submit"
          [label]="mode() === 'create' ? 'Create' : 'Save'"
          [color]="mode() === 'create' ? 'primary' : 'success'"
          [fullWidth]="mode() === 'create'"
          [disabled]="postForm.invalid"
          [style.width]="mode() === 'edit' ? 'auto' : '100%'"
          [title]="mode() === 'create' ? 'Create new post' : 'Save changes'"
        >
        </app-button>
      </div>
    </form>
  </div>
</div>
